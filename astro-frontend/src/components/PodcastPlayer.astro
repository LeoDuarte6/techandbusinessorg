---
interface Props {
  title: string;
  episodeNumber?: number;
  spotifyEmbed?: string;
  appleEmbed?: string;
  showNotes?: any;
  hosts?: Array<{ name: string; slug: { current: string } }>;
  guests?: Array<{ name: string; slug: { current: string } }>;
}

const { title, episodeNumber, spotifyEmbed, appleEmbed, showNotes, hosts, guests } = Astro.props;
---

<div class="bg-tb-gray-dark rounded-lg border border-tb-gray-medium overflow-hidden">
  <div class="p-6 md:p-8">
    <div class="flex items-start justify-between mb-4">
      <div>
        {episodeNumber && (
          <span class="text-sm text-tb-gray-light uppercase tracking-wider">
            Episode {episodeNumber}
          </span>
        )}
        <h3 class="text-2xl font-bold mt-1">{title}</h3>
      </div>
    </div>

    {(hosts || guests) && (
      <div class="mb-6 text-sm">
        {hosts && hosts.length > 0 && (
          <p class="text-tb-gray-light">
            <span class="text-tb-white font-semibold">Hosted by:</span> {hosts.map(h => h.name).join(', ')}
          </p>
        )}
        {guests && guests.length > 0 && (
          <p class="text-tb-gray-light mt-1">
            <span class="text-tb-white font-semibold">Featuring:</span> {guests.map(g => g.name).join(', ')}
          </p>
        )}
      </div>
    )}

    {spotifyEmbed && (
      <div class="mb-4">
        <div set:html={spotifyEmbed} class="w-full" />
      </div>
    )}

    {appleEmbed && !spotifyEmbed && (
      <div class="mb-4">
        <div set:html={appleEmbed} class="w-full" />
      </div>
    )}

    {!spotifyEmbed && !appleEmbed && (
      <div class="aspect-video bg-tb-black rounded border border-tb-gray-medium flex items-center justify-center mb-4">
        <p class="text-tb-gray-light">Podcast player will appear here</p>
      </div>
    )}

    {showNotes && (
      <details class="mt-6">
        <summary class="cursor-pointer font-semibold text-sm uppercase tracking-wider hover:text-tb-gray-light">
          Show Notes
        </summary>
        <div class="mt-4 text-tb-gray-light prose prose-invert max-w-none">
          <!-- Show notes content would be rendered here -->
          <p>Show notes content...</p>
        </div>
      </details>
    )}
  </div>
</div>
