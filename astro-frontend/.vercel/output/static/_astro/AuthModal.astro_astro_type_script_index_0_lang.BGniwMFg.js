import{a as r}from"./supabase.C7igty4D.js";const n=document.getElementById("auth-modal"),g=document.getElementById("close-modal"),o=document.getElementById("login-tab"),a=document.getElementById("signup-tab"),c=document.getElementById("login-form"),m=document.getElementById("signup-form"),l=document.getElementById("login-error"),s=document.getElementById("signup-error");o?.addEventListener("click",()=>{c?.classList.remove("hidden"),m?.classList.add("hidden"),o.classList.add("border-b-2","border-[var(--theme-text)]","text-[var(--theme-text)]"),o.classList.remove("text-[var(--theme-gray)]"),a?.classList.remove("border-b-2","border-[var(--theme-text)]","text-[var(--theme-text)]"),a?.classList.add("text-[var(--theme-gray)]")});a?.addEventListener("click",()=>{m?.classList.remove("hidden"),c?.classList.add("hidden"),a.classList.add("border-b-2","border-[var(--theme-text)]","text-[var(--theme-text)]"),a.classList.remove("text-[var(--theme-gray)]"),o?.classList.remove("border-b-2","border-[var(--theme-text)]","text-[var(--theme-text)]"),o?.classList.add("text-[var(--theme-gray)]")});g?.addEventListener("click",()=>{n?.classList.add("hidden")});n?.addEventListener("click",e=>{e.target===n&&n.classList.add("hidden")});c?.addEventListener("submit",async e=>{e.preventDefault();const t=document.getElementById("login-email").value,i=document.getElementById("login-password").value,{error:d}=await r.signIn(t,i);d?l&&(l.textContent=d.message,l.classList.remove("hidden")):(n?.classList.add("hidden"),window.location.reload())});m?.addEventListener("submit",async e=>{e.preventDefault();const t=document.getElementById("signup-email").value,i=document.getElementById("signup-password").value,{error:d}=await r.signUp(t,i);d?s&&(s.textContent=d.message,s.classList.remove("hidden")):s&&(s.textContent="Check your email to confirm your account!",s.classList.remove("hidden","text-red-500"),s.classList.add("text-green-500"))});window.addEventListener("open-auth-modal",(e=>{n?.classList.remove("hidden"),(e.detail?.tab||"login")==="signup"?a?.click():o?.click()}));window.openAuthModal=(e="login")=>{window.dispatchEvent(new CustomEvent("open-auth-modal",{detail:{tab:e}}))};const u=document.getElementById("forgot-password");u?.addEventListener("click",async()=>{const e=prompt("Enter your email address to reset your password:");if(e){const{error:t}=await r.resetPasswordForEmail(e);alert(t?"Error: "+t.message:"Password reset email sent! Check your inbox.")}});const v=document.getElementById("google-login");v?.addEventListener("click",async()=>{const{error:e}=await r.signInWithGoogle();e&&alert("Error signing in with Google: "+e.message)});
