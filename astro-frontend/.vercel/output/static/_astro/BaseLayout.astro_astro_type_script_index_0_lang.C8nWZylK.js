import{a as c}from"./supabase.C7igty4D.js";const f=document.getElementById("theme-toggle"),L=document.getElementById("theme-toggle-mobile"),r=()=>{const e=document.documentElement,t=(e.getAttribute("data-theme")||"dark")==="dark"?"light":"dark";e.setAttribute("data-theme",t),localStorage.setItem("theme",t);const s=document.getElementById("theme-color");s&&s.setAttribute("content",t==="dark"?"#09090b":"#ffffff"),u(t)},u=e=>{const o=document.getElementById("sun-icon"),t=document.getElementById("moon-icon");e==="dark"?(o?.classList.remove("hidden"),t?.classList.add("hidden")):(o?.classList.add("hidden"),t?.classList.remove("hidden"))},l=localStorage.getItem("theme")||"dark";document.documentElement.setAttribute("data-theme",l);u(l);const a=document.getElementById("theme-color");a&&a.setAttribute("content",l==="dark"?"#09090b":"#ffffff");f?.addEventListener("click",r);L?.addEventListener("click",r);const E=document.getElementById("mobile-menu-btn"),i=document.getElementById("mobile-menu"),h=document.getElementById("menu-open"),g=document.getElementById("menu-close");E?.addEventListener("click",e=>{e.preventDefault(),i?.classList.toggle("hidden"),h?.classList.toggle("hidden"),g?.classList.toggle("hidden")});const d=document.getElementById("signup-button");document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("auth-button"),o=document.getElementById("user-profile"),t=document.getElementById("user-email"),s=document.getElementById("logout-button");e?.addEventListener("click",()=>{typeof window.openAuthModal=="function"&&window.openAuthModal("login")}),document.getElementById("footer-signup-form")?.addEventListener("submit",n=>{n.preventDefault(),typeof window.openAuthModal=="function"&&window.openAuthModal("signup")}),s?.addEventListener("click",async()=>{try{await c.signOut(),window.location.reload()}catch(n){console.error("Logout error:",n)}});async function m(){try{const n=await c.getUser();n?(e?.classList.add("hidden"),d?.classList.add("hidden"),o?.classList.remove("hidden"),o?.classList.add("md:flex"),t&&(t.textContent=n.email||"")):(e?.classList.remove("hidden"),e?.classList.add("md:inline-block"),d?.classList.remove("hidden"),d?.classList.add("md:inline-block"),o?.classList.add("hidden"),o?.classList.remove("md:flex"))}catch{e?.classList.remove("hidden"),e?.classList.add("md:inline-block"),d?.classList.remove("hidden"),d?.classList.add("md:inline-block")}}m();try{c.onAuthStateChange(()=>{m()})}catch(n){console.error("Error setting up auth listener:",n)}});i?.querySelectorAll("a").forEach(e=>{e.addEventListener("click",()=>{i.classList.add("hidden"),h?.classList.remove("hidden"),g?.classList.add("hidden")})});
